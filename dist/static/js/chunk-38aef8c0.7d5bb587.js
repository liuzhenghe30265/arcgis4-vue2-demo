(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38aef8c0"],{"159b":function(e,t,s){var i=s("da84"),a=s("fdbc"),r=s("785a"),n=s("17c2"),o=s("9112"),c=function(e){if(e&&e.forEach!==n)try{o(e,"forEach",n)}catch(t){e.forEach=n}};for(var l in a)a[l]&&c(i[l]&&i[l].prototype);c(r)},"17c2":function(e,t,s){"use strict";var i=s("b727").forEach,a=s("a640"),r=a("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},"2ffe":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"map-container"}},[s("div",{staticStyle:{position:"absolute",right:"50px",top:"50px","z-index":"999",width:"200px"}},[s("el-tree",{ref:"tree2",attrs:{data:e.treeData2,"show-checkbox":"","node-key":"id","highlight-current":""},on:{"check-change":e.handleCheckChange2}}),s("hr"),s("el-tree",{ref:"tree",attrs:{data:e.treeData,props:e.defaultProps,"show-checkbox":"","node-key":"id","highlight-current":""},on:{"check-change":e.handleCheckChange}})],1)])},a=[],r=(s("d3b7"),s("159b"),s("d81d"),s("ac1f"),s("1276"),s("afaa")),n=s.n(r),o={name:"MapServer",data:function(){return{SF311Layer:null,DamageAssessmentLayer:null,haveSublayers:null,defaultProps:{children:"children",label:"label"},treeData2:[{label:"SF311",id:"SF311"},{label:"DamageAssessment",id:"DamageAssessment"}],treeData:[{label:"Cities",id:0},{label:"Highways",id:1},{label:"States",id:2},{label:"Counties",id:3}],map:"",MapView:"",gisConstructor:{},gisModules:["esri/Map","esri/views/MapView","esri/Graphic","esri/symbols/TextSymbol","esri/layers/GraphicsLayer","esri/geometry/Point","esri/geometry/SpatialReference","esri/layers/MapImageLayer","esri/layers/FeatureLayer","esri/widgets/Feature","esri/layers/TileLayer","esri/Basemap","esri/WebMap"]}},mounted:function(){this.init()},methods:{handleCheckChange2:function(){var e=this.$refs.tree2.getCheckedKeys();this.SF311Layer.visible=!1,this.DamageAssessmentLayer.visible=!1,e.indexOf("SF311")>-1&&(this.SF311Layer.visible=!0),e.indexOf("DamageAssessment")>-1&&(this.DamageAssessmentLayer.visible=!0)},handleCheckChange:function(){var e=this.$refs.tree.getCheckedKeys(),t=this.haveSublayers.allSublayers.items;t.forEach((function(e){e.visible=!1})),e.forEach((function(e){t[e].visible=!0}))},mapClickFun:function(){this.MapView.on("click",(function(e){console.log(e)}))},loadLayersFun:function(){this.SF311Layer=new this.gisConstructor.MapImageLayer({url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/SF311/MapServer",layerId:"SF311",visible:!1}),this.map.add(this.SF311Layer,2),this.DamageAssessmentLayer=new this.gisConstructor.MapImageLayer({url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/DamageAssessment/MapServer",layerId:"DamageAssessment",visible:!1}),this.map.add(this.DamageAssessmentLayer,-1),this.haveSublayers=new this.gisConstructor.MapImageLayer({url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer",layerId:2,sublayers:[{id:0,visible:!1},{id:1,visible:!1},{id:2,visible:!1},{id:3,visible:!1}]}),this.map.add(this.haveSublayers)},init:function(){n.a.loadCss("https://js.arcgis.com/4.16/esri/themes/light/main.css"),n.a.loadScript({url:"https://js.arcgis.com/4.16/init.js",dojoConfig:{async:!1}}),Object(r["loadModules"])(this.gisModules).then(this.initMap).then(this.loadLayersFun).then(this.mapClickFun)},initMap:function(e){for(var t in e){var s=this.gisModules[t].split("/").pop();this.gisConstructor[s]=e[t]}this.map=new this.gisConstructor.Map({basemap:"osm"}),this.MapView=new this.gisConstructor.MapView({container:"map-container",map:this.map,center:[-99,39],zoom:3})}}},c=o,l=(s("6345"),s("2877")),h=Object(l["a"])(c,i,a,!1,null,null,null);t["default"]=h.exports},6345:function(e,t,s){"use strict";s("83b6")},"785a":function(e,t,s){var i=s("cc12"),a=i("span").classList,r=a&&a.constructor&&a.constructor.prototype;e.exports=r===Object.prototype?void 0:r},"83b6":function(e,t,s){},a640:function(e,t,s){"use strict";var i=s("d039");e.exports=function(e,t){var s=[][e];return!!s&&i((function(){s.call(null,t||function(){throw 1},1)}))}},b041:function(e,t,s){"use strict";var i=s("00ee"),a=s("f5df");e.exports=i?{}.toString:function(){return"[object "+a(this)+"]"}},d3b7:function(e,t,s){var i=s("00ee"),a=s("6eeb"),r=s("b041");i||a(Object.prototype,"toString",r,{unsafe:!0})},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);